var e,t,r={exports:{}},a={};function i(){return t||(t=1,r.exports=(e||(e=1,function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<i(n,t)))break e;e[a]=t,e[r]=n,r=a}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,o=n>>>1;a<o;){var s=2*(a+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<n&&0>i(u,l)?(e[a]=u,e[c]=r,a=c):(e[a]=l,e[s]=r,a=s);else{if(!(c<n&&0>i(u,r)))break e;e[a]=u,e[c]=r,a=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var n=performance;e.unstable_now=function(){return n.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,b=3,m=!1,p=!1,d=!1,h=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=r(c);null!==i;){if(null===i.callback)a(c);else{if(!(i.startTime<=e))break;a(c),i.sortIndex=i.expirationTime,t(l,i)}i=r(c)}}function k(e){if(d=!1,w(e),!p)if(null!==r(l))p=!0,P||(P=!0,_());else{var t=r(c);null!==t&&H(k,t.startTime-e)}}var _,P=!1,T=-1,j=5,x=-1;function I(){return!(!h&&e.unstable_now()-x<j)}function L(){if(h=!1,P){var t=e.unstable_now();x=t;var i=!0;try{e:{p=!1,d&&(d=!1,v(T),T=-1),m=!0;var n=b;try{t:{for(w(t),f=r(l);null!==f&&!(f.expirationTime>t&&I());){var o=f.callback;if("function"==typeof o){f.callback=null,b=f.priorityLevel;var s=o(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){f.callback=s,w(t),i=!0;break t}f===r(l)&&a(l),w(t)}else a(l);f=r(l)}if(null!==f)i=!0;else{var u=r(c);null!==u&&H(k,u.startTime-t),i=!1}}break e}finally{f=null,b=n,m=!1}i=void 0}}finally{i?_():P=!1}}}if("function"==typeof g)_=function(){g(L)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,S=R.port2;R.port1.onmessage=L,_=function(){S.postMessage(null)}}else _=function(){y(L,0)};function H(t,r){T=y(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(j=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(e){switch(b){case 1:case 2:case 3:var t=3;break;default:t=b}var r=b;b=t;try{return e()}finally{b=r}},e.unstable_requestPaint=function(){h=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=b;b=e;try{return t()}finally{b=r}},e.unstable_scheduleCallback=function(a,i,n){var o=e.unstable_now();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?o+n:o,a){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return a={id:u++,callback:i,priorityLevel:a,startTime:n,expirationTime:s=n+s,sortIndex:-1},n>o?(a.sortIndex=n,t(c,a),null===r(l)&&a===r(c)&&(d?(v(T),T=-1):d=!0,H(k,n-o))):(a.sortIndex=s,t(l,a),p||m||(p=!0,P||(P=!0,_()))),a},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=b;return function(){var r=b;b=t;try{return e.apply(this,arguments)}finally{b=r}}}}(a)),a)),r.exports}class n{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},s=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},l=async(e,t,r={})=>{const a=await fetch(o.origin+e,{method:"POST",headers:r,body:t}),i=await a.text(),s=new n(a.status,i);if(a.ok)return s;throw s},c=(e,t,r)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||"string"!=typeof r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},u=e=>e.webdriver||!e.languages||0===e.languages.length,f=()=>new n(451,"Unavailable For Headless Browser"),b=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const r=(a=t,i=e.watchVariable,a instanceof FormData?a.get(i):a[i]);var a,i;return"string"==typeof r&&e.list.includes(r)},m=()=>new n(403,"Forbidden"),p=async(e,t,r)=>{if(!t.throttle||!r)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const a=t.id||e,i=await(async(e,t,r)=>{const a=Number(await r.get(e)||0);return t-Date.now()+a})(a,t.throttle,r);return i>0||(await r.set(a,Date.now().toString()),!1)},d=()=>new n(429,"Too Many Requests"),h={init:(e,t="https://api.emailjs.com")=>{if(!e)return;const r=s(e);o.publicKey=r.publicKey,o.blockHeadless=r.blockHeadless,o.storageProvider=r.storageProvider,o.blockList=r.blockList,o.limitRate=r.limitRate,o.origin=r.origin||t},send:async(e,t,r,a)=>{const i=s(a),n=i.publicKey||o.publicKey,h=i.blockHeadless||o.blockHeadless,y=i.storageProvider||o.storageProvider,v={...o.blockList,...i.blockList},g={...o.limitRate,...i.limitRate};if(h&&u(navigator))return Promise.reject(f());if(c(n,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(r),r&&b(v,r))return Promise.reject(m());if(await p(location.pathname,g,y))return Promise.reject(d());const w={lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:r};return l("/api/v1.0/email/send",JSON.stringify(w),{"Content-type":"application/json"})},sendForm:async(e,t,r,a)=>{const i=s(a),n=i.publicKey||o.publicKey,h=i.blockHeadless||o.blockHeadless,y=o.storageProvider||i.storageProvider,v={...o.blockList,...i.blockList},g={...o.limitRate,...i.limitRate};if(h&&u(navigator))return Promise.reject(f());const w=(e=>"string"==typeof e?document.querySelector(e):e)(r);c(n,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(w);const k=new FormData(w);return b(v,k)?Promise.reject(m()):await p(location.pathname,g,y)?Promise.reject(d()):(k.append("lib_version","4.4.1"),k.append("service_id",e),k.append("template_id",t),k.append("user_id",n),l("/api/v1.0/email/send-form",k))},EmailJSResponseStatus:n};export{h as e,i as r};
